
var documents = [{
    "id": 0,
    "url": "http://localhost:4000/404.html",
    "title": "404",
    "body": "404 Page not found!Please use the search bar from the bottom left or visit our homepage! "
    }, {
    "id": 1,
    "url": "http://localhost:4000/about",
    "title": "Memoirs, a free minimalist Jekyll blogging theme with modern design",
    "body": "This website is a demonstration to see Memoirs Jekyll theme in action. The theme is compatible with Github pages, in fact even this demo itself is created with Github Pages and hosted with Github.  Get Memoirs for Jekyll → "
    }, {
    "id": 2,
    "url": "http://localhost:4000/categories",
    "title": "Categories",
    "body": ""
    }, {
    "id": 3,
    "url": "http://localhost:4000/contact",
    "title": "Contact",
    "body": "  Please send your message to Neue Welt The Graphic Novel. We will reply as soon as possible!   "
    }, {
    "id": 4,
    "url": "http://localhost:4000/",
    "title": "Neue Welt",
    "body": "              Read the Introductory Section                                                                                                                       Getting the first section together              :       I’ve been aiming at the point where the first section of the Neue Welt book is ready enough to show to people. And, now it is! after more than two. . . :                                                                               Dan                 21 Oct 2020                                                                                                                           Panel Anatomy: Banishment (2)              :       So, if you missed the first part, that’s here. For those of you who read it, we’re continuing this dissection of how one figure got drawn in one of the. . . :                                                                               Dan                 11 Oct 2020                                                                                                                           Panel Anatomy: Banishment (1)              :       Since we’re just getting this site underway, let’s try out something. It’s about process – just revealing a bit about how the pages and the panels get made. I’m provisionally. . . :                                                                               Dan                 10 Oct 2020                                "
    }, {
    "id": 5,
    "url": "http://localhost:4000/robots.txt",
    "title": "",
    "body": "      Sitemap: {{ “sitemap. xml”   absolute_url }}   "
    }, {
    "id": 6,
    "url": "http://localhost:4000/introducing-neue-welt/",
    "title": "Getting the first section together",
    "body": "2020/10/21 - I’ve been aiming at the point where the first section of the Neue Welt book is ready enough to show to people. And, now it is! after more than two months of 10-14 hour days. That’s not necessarily the moment when it’s complete, finished, tweaked and fully detailed. I am really interested in the process of creating the book, so I also want to expose it to the world in incomplete form, and then let interested people track the process of polishing. At the same time, I don’t think the first things you see posted should be the original, messy, almost meaningless sketches; even though those are the real genesis of the section that’s online. There’s a balance to be struck. So, that’s where it is, as of this post. It should be pretty easy to read it, and get what’s going on, about as well as the finished version. But there are a lot of things omitted that will be added in the immediate future. And if you decide to follow what I’m doing, you’ll see those as they happen. Those include things that are quite obvious: faces, for one. And proper clothing that matches the time. But also lighting, and shade and shadow, and sometimes othe similar things that convey time, season, weather and so on. I actually think that having these things omitted and seeing them add to the final product is more engaging. How the book gets presented so it can be read is still not quite determined. You can do it here, but the site is also for the process. "
    }, {
    "id": 7,
    "url": "http://localhost:4000/panel-anatomy.2/",
    "title": "Panel Anatomy: Banishment (2)",
    "body": "2020/10/11 - So, if you missed the first part, that’s here. For those of you who read it, we’re continuing this dissection of how one figure got drawn in one of the panels in Neue Welt. Our figure, having been refined in a separate file, is now located in the panel, which means I now have to build the relationship she has to her surroundings, and the other people in them. A lot of that is established through body language, which is part of why we reintegrated her now. As I closed the last post off by saying, we need to ensure that any drift from the original rough drawing is not a problem.  The first thing is, the poor girl is standing there naked. So we have to clothe her. In the image above on the left, in a new layer, and using a standout colour to improve visibility, I’ve drawn the outline of the dress that she’s wearing, as well as the shoes that she’ll appear in.  Drawing my figures nude is part of a process of ensuring that, even when there are complex relationships between them, the figures are anatomically properly proportioned, that limbs are in positions and shown with the correct foreshortening etc. In a frame like the fight Karolina has with her tormentor, this was a really important thing, and I hope to do a breakdown of that or a similar panel later.  The process here should look familiar: adding a layer with opaque fill below the linework, in this case the lines of the dress. Having done that, I’m setting the opacity of that layer of fill to a translucent value.  This stage is subtle: The dress goes both in front of Karolina, and where we see it between her legs, from our low angle on the platform, behind her. So the dress fill, having already been cut out, is duplicated, and the new copy put behind her. Now, I can trim away the front layer to match the line of her hem in the front. Because it’s translucent, it’s easier to see what I’m doing.  Returning both layers to full opacity, the dress now works both behind her in front at the legs. But it now completely covers her arms. I also needed to erase the front hemline where it crosses her legs. Keeping the colour fill and linework separate makes a lot of this kind of prioritizing easier.  But work needs to be done to deal with those arms. That starts by hiding the dress, and duplicating the entire figure of Karolina. At this point, the linework and the fill have been merged into a single layer. This made some things easier when moving her figure in front of other layers. I’ve hidden the original figure, and now I’ve used the eraser tool to cut away the are of the duplicate figure that has the arms – the thing goes in front of the dress – away.  The extraneous parts are deleted, and now I lock all the parts of the remainder, which consists of the merged together linework and fill colour. Next, I unlock the fill, so I can use the eraser on it, and leave the linework intact. It’s the fill colour that will knock out the dress when we put this new layer in front of everything, so this is the key step.  Once the colour is trimmed to the profile of the part of the arms that will be in front of the dress, I can unlock and delete the linework that is outside the fill area. I turn all the layers on, and ensure that the cutaway arms are in the front, and things look good again.  A similar process to the dress, but without the need for overlayering happens with her shoes.  And that’s it! A single figure, in a single panel is now complete. Except, of course for all the other things that will have to happen: adding hair, correcting colour, adjusting clothing, adding shade and tone… When it’s broken down into steps like this, it seems (even to me) exhausting! But the average time per panel, up to this point is about a day of work. So given all the other things – initial concepts, roughs, composition, research into things like what railway carriages looked like, or typical railway stations in Germany in 1930, the actual time for this process might be an hour. Which is not that bad. The conductor/guard, and Karolina’s guardians who also appear in the scene did require this treatment too. But because they don’t appear in many panels, and they’re somewhat obscured by the other details, less time goes in to them in a panel like this. "
    }, {
    "id": 8,
    "url": "http://localhost:4000/panel-anatomy.1/",
    "title": "Panel Anatomy: Banishment (1)",
    "body": "2020/10/10 - Since we’re just getting this site underway, let’s try out something. It’s about process – just revealing a bit about how the pages and the panels get made. I’m provisionally making this the anatomy series, and tagging it that way. On page 8, titled “Banishment”, Karolina is, yes, banished to the little town of Magdasbruck. This required a bunch of attempts to get it to work, which meant lots of redrawing. This post is about how a single figure got drawn. The image at the top of this page is that sequence, in finished form.  I’m focusing on the second panel, with Karolina pretty pissed off a having arrived in Magdasbruck, after her life in Berlin. I’m going to focus on her figure in that panel here, so anyone following along at home can get a sense of how things get drawn. At left is the original rough of that figure. I’ve already isolated it from the rest of the scene, in its own layer in Concepts on the iPad – my primary tool in drawing this project. The colour fills are what I use to define the general outline of the figure; when I have a bunch of different figures, different coloured fills make distinguishing them from each other easier when the lines get really messy.  I’ll typically bring that layer into a new drawing, also in Concepts. Here’s what that looks like. It’s in its own layer, with the opacity turned down, and another layer on top of that, where I’ll start to refine the lines. That’s what’s happening in the next image, where an initial overlaid drawing attempts to bring out the outline of the figure with more feeling and precision. My method is incremental. I don’t aim for perfect lines the first pass through. Of course, I have to work at getting figures where I want them, so it’s not like I have a choice. But I also find that when you redraw and redraw, ideas and possibilities are more likely to emerge that, in the end, improve the product over what you might have had in mind to begin with.  As this process goes forward, and the drawing starts to converge on what I want, I’ll delete the reference layer I worked off of, reduce the opacity on the newly drawn layer, create a new layer on top of that, and repeat. Sometimes this happens twice or three times. Sometimes it’s more… By now, the lines are starting to be quite clean, and you can refine things like the relative weight of the limbs and torso, size of different features. This is Karolina, who is about 17 or 18 at this time. A lot of the plan of the book involves the slow ageing of the characters. So in this intro, Karolina goes from 1 to about 25, and the drawings in every panel have to get her at that age. The time that she (and Wolf, the other protagonist) age in this intro is about the same as will happen in the full book. So even thought the period of growth is very different, it prepares me for the more subtle process to come.  We’ve now arrived at the final outline. Karolina is carrying a bit of baby fat, but she’s very much physically mature, and the line reflects that. In the next image, all the previous layers are hidden, and a colour filled area is laid in behind the lines, on a separate layer. This will provide her the ability to knock out linework behind her, and simplify the drawing as a whole – these colour fills provide clean lines where one figure passes in front of another, or the background.  Next, I use an eraser to cut out the colour fill area to exactly match the outline of the figure. This is a manual process, because Concepts doesn’t have a tool to fill with. But that’s actually fine for me. I love Concepts because it has the simplicity and a lot of the subtlety of physical drawing materials, without getting silly about mimicry of natural media. So the cutting out process feels old school – I’ve spent so many hours doing it… You can make out the white cut out around the figure. Cutting out has to happen starting at an edge, which is why there’s a little tail leading in to her, starting at the bottom. Now I can delete the outside colour, and we have a nicely filled figure. The colour doesn’t matter, by the way, that can change, but fleshtones are hard to see against the background of the app, so I’ll often use something darker and change it.  With the figure filled, I’ll start to focus on details. In this stage, I don’t include faces. I do sometimes add a few features, and often an ear roughed in, which can clarify where generally the figure is looking. That information, I’ve learned, provides a major indicator of how the scene is to be read – eyelines and attention define who the character is, and what they are doing, and feeling. Instead, in this phase, hands are the detail area. I have a theory that hands, which are notoriously time-consuming and hard to draw compared to most other things, are at the same time incredibly important in reading the expression and mood of a character. Are the fists clenched or are they relaxed? Are they gripping the arm, or caressing it, of the adjacent character? Focusing exclusively on body language and hand expression, without the face, forces me to try to be more expressive using only those tools.  This is the start of the hand process, and you can see that it’s pretty wretched. The hand looks all wrong! But one reason is that the thumb, which is hidden for the most part from this angle, is drawn in, so I can be precise about to what degree the end of the thumb would be visible. There’s nothing precious about this stage – the drawing is a form of working out, and of thinking, not really focused on pure depiction just yet. I should also say that the hand drawing being done in this and the previous panel is being done in another layer, above the body linework, and the fill. I can fade the linework down, but draw the hands at full opacity, so I can distinguish easily between the new work and what’s there. Of course, this is all pretty standard vellum-tracing techniques that come from old illustrator techniques. What I hope gets across here is that where that allows successive approximations, it lowers the pressure on any given thing you’re working on, letting you stay loose and experimental. My rule of thumb (no pun intended) is that the new drawing doesn’t have to be good, it just has to be better than the last version. When I get there, just as with body drawing, delete the previous layer, and start using the last version as reference for the next. That way, things can improve and the risk and the looseness stay manageable. Seeing what’s bad about your last version makes it easier to make the next one better.  At this point, I’m pretty happy with the hand I’ve got, so I pull back to check its size relative to the figure. Digital drawing, where zooming in can be almost limitless, induces a loss of sense of scale. So sometimes something can be well-drawn, but out of proportion to the things it relates to. And sometimes, inducing a degree of disproportion can draw the reader’s attention. So in this stage, I’ve selected the hand in its now complete form, and slightly scaled in up. At the same time, positioning the hand effectively adjusts the arm length, which is also important.  The same process happens for the other hand, and now we have the two primary expressive details of the figure complete. Pulling back, I can resize and reposition this hand as well, to match an accord with the first one.  The figure’s left hand changes the profile of the silhouette, so adjustments are made to the fill layer, so that it extends to the hand.  I can now drop the figure back into the original drawing. This is a valuable check on whether, in the course of drawing and redrawing, I’ve drifted from the original way that the figure fit into the scene. Feet, when they’re visible, are important here. In general, perspective is reasonably forgiving if I haven’t gone too far from the original pose. In the first image, the figure is overlayed on the original rough that we started this post with. That gives me a reference for sizing the figure; the process of refining tends to shrink the figure, so sometimes a bit of upscaling is needed, before deleting the original layer of rough drawing, seen at right. Phew! That brings us to about halfway through the process for this figure, and I’ll complete it in the next post.  "
    }];

var idx = lunr(function () {
    this.ref('id')
    this.field('title')
    this.field('body')

    documents.forEach(function (doc) {
        this.add(doc)
    }, this)
});
function lunr_search(term) {
    document.getElementById('lunrsearchresults').innerHTML = '<ul></ul>';
    if(term) {
        document.getElementById('lunrsearchresults').innerHTML = "<p>Search results for '" + term + "'</p>" + document.getElementById('lunrsearchresults').innerHTML;
        //put results on the screen.
        var results = idx.search(term);
        if(results.length>0){
            //console.log(idx.search(term));
            //if results
            for (var i = 0; i < results.length; i++) {
                // more statements
                var ref = results[i]['ref'];
                var url = documents[ref]['url'];
                var title = documents[ref]['title'];
                var body = documents[ref]['body'].substring(0,160)+'...';
                document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML + "<li class='lunrsearchresult'><a href='" + url + "'><span class='title'>" + title + "</span><span class='body'>"+ body +"</span><span class='url'>"+ url +"</span></a></li>";
            }
        } else {
            document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = "<li class='lunrsearchresult'>No results found...</li>";
        }
    }
    return false;
}

function lunr_search(term) {
    $('#lunrsearchresults').show( 400 );
    $( "body" ).addClass( "modal-open" );
    
    document.getElementById('lunrsearchresults').innerHTML = '<div id="resultsmodal" class="modal fade show d-block"  tabindex="-1" role="dialog" aria-labelledby="resultsmodal"> <div class="modal-dialog shadow" role="document"> <div class="modal-content"> <div class="modal-header" id="modtit"> <button type="button" class="close" id="btnx" data-dismiss="modal" aria-label="Close"> &times; </button> </div> <div class="modal-body"> <ul class="mb-0"> </ul>    </div> <div class="modal-footer"><button id="btnx" type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Close</button></div></div> </div></div>';
    if(term) {
        document.getElementById('modtit').innerHTML = "<h5 class='modal-title'>Search results for '" + term + "'</h5>" + document.getElementById('modtit').innerHTML;
        //put results on the screen.
        var results = idx.search(term);
        if(results.length>0){
            //console.log(idx.search(term));
            //if results
            for (var i = 0; i < results.length; i++) {
                // more statements
                var ref = results[i]['ref'];
                var url = documents[ref]['url'];
                var title = documents[ref]['title'];
                var body = documents[ref]['body'].substring(0,160)+'...';
                document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML + "<li class='lunrsearchresult'><a href='" + url + "'><span class='title'>" + title + "</span><small><span class='body'>"+ body +"</span><span class='url'>"+ url +"</span></small></a></li>";
            }
        } else {
            document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = "<li class='lunrsearchresult'>Sorry, no results found. Close & try a different search!</li>";
        }
    }
    return false;
}
    
$(function() {
    $("#lunrsearchresults").on('click', '#btnx', function () {
        $('#lunrsearchresults').hide( 5 );
        $( "body" ).removeClass( "modal-open" );
    });
});